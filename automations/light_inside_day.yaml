    ########################################################
    ### Tänder lampor kl 09:00 om det är mörkt           ###
    ### T: Time = 09:00:00                               ###
    ### C: sensor.ljusstyrka < input_number.day_light_on ###
    ###    group.track_for_home_devices == 'home'        ###
    ### A: input_select.inside_lights = Dagbelysning     ###
    ########################################################
  - alias: Dagbelysning on (=09:00:00, <1800, hemma)
    trigger:
      platform: time
      at: '09:00:00'

    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{{(states('sensor.ljusstyrka') | int) < (states('input_number.day_light_on') | int )}}"
        - condition: state
          entity_id: group.track_for_home_devices
          state: 'home'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Dagbelysning

    ########################################################
    ### Tänder lampor när det blir mörkt fram till 22:00 ###
    ### T: sensor.ljusstyrka < input_number.day_light_on ###
    ### C: group.track_for_home_devices == 'home'        ###
    ###    09:00:00 - 22:00:00                           ###
    ### A: input_select.inside_lights = Dagbelysning     ###
    ########################################################
  - alias: Dagbelysning on (<1800, hemma)
    trigger:
      platform: template
      value_template: "{{(states('sensor.ljusstyrka') | int) < (states('input_number.day_light_on') | int )}}"

    condition:
      condition: and
      conditions:
        - condition: state
          entity_id: group.track_for_home_devices
          state: 'home'
        - condition: time
          after: '09:00:00'
          before: '22:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Dagbelysning

    ########################################################
    ### Tänder lampor vid rörelse i köket övrigt tid     ###
    ### Används för att snabba på upptändning när första ###
    ### kommer hem innan status ändrats till 'hemma'     ###
    ### T: input_boolean.rorelsedetektor_kok_aktiv == on ###
    ### C: group.track_for_home_devices == 'not_home'    ###
    ###    sensor.ljusstyrka < input_number.day_light_on ###
    ###    09:00:00 - 05:00:00                           ###
    ### A: input_select.inside_lights = Dagbelysning     ###
    ########################################################
  - alias: Dagbelysning on (sensor on, borta, <1800)
    trigger:
      platform: state
      entity_id: input_boolean.rorelsedetektor_kok_aktiv
      to: 'on'

    condition:
      condition: and
      conditions:
        - condition: state
          entity_id: group.track_for_home_devices
          state: 'not_home'
        - condition: template
          value_template: "{{(states('sensor.ljusstyrka') | int) < (states('input_number.day_light_on') | int )}}"
        - condition: time
          after: '09:00:00'
          before: '05:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Dagbelysning

    ########################################################
    ### Tänder lampor när första kommer hem övrig tid    ###
    ### T: group.track_for_home_devices to 'home'        ###
    ### C: sensor.ljusstyrka < input_number.day_light_on ###
    ###    09:00:00 - 05:00:00                           ###
    ### A: input_select.inside_lights = Dagbelysning     ###
    ########################################################
  - alias: Dagbelysning on (-> hemma, <1800)
    trigger:
      platform: state
      entity_id: group.track_for_home_devices
      from: 'not_home'
      to: 'home'

    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{{(states('sensor.ljusstyrka') | int) < (states('input_number.day_light_on') | int )}}"
        - condition: time
          after: '09:00:00'
          before: '05:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Dagbelysning

    ##########################################################
    ### Tänder lampor när fönsterbelysning i sovrum tänds  ###
    ### T: light.sovrum_fonster to 'on'                    ###
    ### C: input_select.inside_lights == 'Morgonbelysning' ###
    ###    05:00:00 - 09:00:00                             ###
    ### A: input_select.inside_lights = Dagbelysning       ###
    ##########################################################
  - alias: Dagbelysning on (sovrumsfönster on)
    trigger:
      platform: state
      entity_id: light.sovrum_fonster
      to: 'on'

    condition:
      condition: and
      conditions:
        - condition: state
          entity_id: input_select.inside_lights
          state: 'Morgonbelysning'
        - condition: time
          after: '05:00:00'
          before: '09:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Dagbelysning

    ##########################################################
    ### Släcker lampor om det blir för ljust ute övrig tid ###
    ### T: sensor.ljusstyrka > input_number.day_light_off  ###
    ### C: group.track_for_home_devices = 'home'           ###
    ###    09:00:00 - 05:00:00                             ###
    ### A: input_select.inside_lights = Släckt             ###
    ##########################################################
  - alias: Dagbelysning off (>2500, hemma)
    trigger:
      platform: template
      value_template: "{{(states('sensor.ljusstyrka') | int) > (states('input_number.day_light_off') | int )}}"

    condition:
      condition: and
      conditions:
        - condition: state
          entity_id: group.track_for_home_devices
          state: 'home'
        - condition: time
          after: '09:00:00'
          before: '05:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Släckt

    ########################################################
    ### Släcker lampor när sista åker hemifrån övrig tid ###
    ### T: group.track_for_home_devices to 'not_home'    ###
    ### C: 09:00:00 - 05:00:00                           ###
    ### A: input_select.inside_lights = Släckt           ###
    ########################################################
  - alias: Dagbelysning off (-> borta)
    trigger:
      platform: state
      entity_id: group.track_for_home_devices
      from: 'home'
      to: 'not_home'

    condition:
      condition: time
      after: '09:00:00'
      before: '05:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Släckt

    #######################################################################
    ### Släcker lampor i sovrummet när fönsterbelysning i sovrum släcks ###
    ### T: light.sovrum_fonster to 'unavailable'                        ###
    ### C: light.sovrum_sangbord == on                                  ###
    ### C: 21:00:00 - 23:00:00                                          ###
    ### A: light.bedroom = off                                          ###
    #######################################################################
  - alias: Dagbelysning -> Kvällsbelysning (sovrumsfönster off)
    trigger:
      platform: state
      entity_id: light.sovrum_fonster
      to: 'unavailable'

    condition:
      condition: and
      conditions:
        - condition: state
          entity_id: light.sovrum_sangbord
          state: 'on'
        - condition: time
          after: '21:00:00'
          before: '23:00:00'

    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.inside_lights
          option: Kvällsbelysning

          transition: 2