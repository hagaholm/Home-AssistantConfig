    ############################################################
    ### Tänder lampor på morgonen vid rörelse i köket        ###
    ### T: input_boolean.rorelsedetektor_kok_aktiv == on     ###
    ### C: sensor.ljusstyrka < input_number.morning_light_on ###
    ###    light.morgonbelysning == off                      ###
    ###    05:00:00 - 09:00:00                               ###
    ### A: script.morning_lights_on                          ###
    ############################################################
  - alias: Morgonbelysning on (sensor on, <1800)
    trigger:
      platform: state
      entity_id: input_boolean.rorelsedetektor_kok_aktiv
      to: 'on'
    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{{(states.sensor.ljusstyrka.state | int) < (states.input_number.morning_light_on.state | int )}}"
        - condition: state
          entity_id: light.morgonbelysning
          state: 'off'
        - condition: time
          after: '05:00:00'
          before: '09:00:00'
    action:
      - service: script.morning_lights_on

    ############################################################
    ### Tänder lampor när första kommer hem på förmiddagen   ###
    ### T: group.track_for_home_devices to: 'home'           ###
    ### C: sensor.ljusstyrka < input_number.morning_light_on ###
    ###    05:00:00 - 09:00:00                               ###
    ### A: script.morning_lights_on                          ###
    ############################################################
  - alias: Morgonbelysning on (-> hemma, <1800)
    trigger:
      platform: state
      entity_id: group.track_for_home_devices
      from: 'not_home'
      to: 'home'
    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{{(states.sensor.ljusstyrka.state | int) < (states.input_number.morning_light_on.state | int )}}"
        - condition: time
          after: '05:00:00'
          before: '09:00:00'
    action:
      - service: script.morning_lights_on

    #############################################################
    ### Släcker lampor på förmiddagen när det blir ljust ute  ###
    ### T: sensor.ljusstyrka > input_number.morning_light_off ###
    ### C: group.track_for_home_devices == 'home'             ###
    ###    05:00:00 - 09:00:00                                ###
    ### A: script.morning_lights_off                          ###
    #############################################################
  - alias: Morgonbelysning off (>2500, hemma)
    trigger:
      platform: template
      value_template: "{{(states.sensor.ljusstyrka.state | int) > (states.input_number.morning_light_off.state | int )}}"
    condition:
      condition: and
      conditions:
        - condition: state
          entity_id: group.track_for_home_devices
          state: 'home'
        - condition: time
          after: '05:00:00'
          before: '09:00:00'
        - condition: state
          entity_id: input_boolean.christmas_light
          state: 'off'
    action:
      - service: script.morning_lights_off

    #############################################################
    ### Släcker lampor på förmiddagen när sista åker hemifrån ###
    ### T: group.track_for_home_devices to: 'not_home'        ###
    ### C: 05:00:00 - 09:00:00                                ###
    ### A: script.morning_lights_off                          ###
    #############################################################
  - alias: Morgonbelysning off (-> borta)
    trigger:
      platform: state
      entity_id: group.track_for_home_devices
      from: 'home'
      to: 'not_home'
    condition:
      condition: time
      after: '05:00:00'
      before: '09:00:00'
    action:
      - service: script.morning_lights_off